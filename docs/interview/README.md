# AI MCP A2A í”„ë¡œì íŠ¸ - ë©´ì ‘ìš© í¬íŠ¸í´ë¦¬ì˜¤

## ğŸ¯ **í”„ë¡œì íŠ¸ ê°œìš”**

**AI MCP A2A í”„ë¡œì íŠ¸**ëŠ” **Model Context Protocol (MCP)**, **LangGraph**, **Agent-to-Agent (A2A) í†µì‹ **ì„ í™œìš©í•œ **ì§€ëŠ¥í˜• ë°ì´í„° ì²˜ë¦¬ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤.

### **í•µì‹¬ ëª©í‘œ**

- **ê°œë°œ ê¸°ìˆ  ì–´í•„**: MCP, LangGraph, A2A, Docker ë“± ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ í™œìš©
- **ì‹¤ì œ ë°ì´í„° ì—°ë™**: Mock ë°ì´í„°ê°€ ì•„ë‹Œ ì‹¤ì œ APIë¥¼ í†µí•œ ë°ì´í„° ì²˜ë¦¬
- **í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê¸°ë°˜ì˜ ìœ ì—°í•œ ì‹œìŠ¤í…œ ì„¤ê³„

## ğŸ—ï¸ **í˜„ì¬ êµ¬í˜„ ìƒíƒœ**

### **âœ… ì™„ë£Œëœ ë¶€ë¶„**

- **MCP ì„œë²„ 6ê°œ**: ê°ê°ì˜ ë„ë©”ì¸ë³„ ë°ì´í„° ì²˜ë¦¬ ì‹œìŠ¤í…œ
- **FastMCP ê¸°ë°˜**: í˜„ëŒ€ì ì¸ MCP ì„œë²„ êµ¬í˜„
- **ì‹¤ì œ API ì—°ë™**: FinanceDataReader, Kiwoom API ë“± ì‹¤ì œ ë°ì´í„° ì†ŒìŠ¤ í™œìš©

### **â³ ì§„í–‰ ì˜ˆì •**

- **LangGraph ì—ì´ì „íŠ¸**: ë³µì¡í•œ ì›Œí¬í”Œë¡œìš° ê´€ë¦¬
- **A2A í†µì‹ **: ì—ì´ì „íŠ¸ ê°„ í˜‘ì—… ì‹œìŠ¤í…œ
- **Docker ì»¨í…Œì´ë„ˆ**: ì„œë¹„ìŠ¤ ê²©ë¦¬ ë° ë°°í¬ ìë™í™”

## ğŸ”§ **ê¸°ìˆ  ìŠ¤íƒ**

### **í•µì‹¬ ê¸°ìˆ **

- **Python 3.12+**: ìµœì‹  Python ê¸°ëŠ¥ í™œìš©
- **FastMCP**: MCP ì„œë²„ êµ¬í˜„ í”„ë ˆì„ì›Œí¬
- **asyncio**: ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°
- **httpx**: ë¹„ë™ê¸° HTTP í´ë¼ì´ì–¸íŠ¸

### **ë°ì´í„° ì²˜ë¦¬**

- **FinanceDataReader**: ì£¼ì‹/ê¸ˆìœµ ë°ì´í„°
- **numpy**: ìˆ˜ì¹˜ ê³„ì‚° ë° ë¶„ì„
- **pandas**: ë°ì´í„° ì¡°ì‘ ë° ë¶„ì„

### **ê°œë°œ ë„êµ¬**

- **uv**: íŒ¨í‚¤ì§€ ê´€ë¦¬ ë° ê°€ìƒí™˜ê²½
- **pytest**: í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
- **ruff**: ì½”ë“œ í’ˆì§ˆ ë° í¬ë§·íŒ…

## ğŸ“Š **MCP ì„œë²„ ìƒì„¸**

### **1. ê±°ì‹œê²½ì œ ë¶„ì„ ì‹œìŠ¤í…œ (Data Processing System)**

- **í¬íŠ¸**: 8001
- **ê¸°ëŠ¥**: GDP, ì¸í”Œë ˆì´ì…˜ ë°ì´í„° ì²˜ë¦¬ ë° íŠ¸ë Œë“œ ë¶„ì„
- **ê¸°ìˆ **: ìºì‹±, ì¬ì‹œë„, ì„ í˜• íšŒê·€, ë°°ì¹˜ ì²˜ë¦¬

### **2. ì£¼ì‹ ë¶„ì„ ì‹œìŠ¤í…œ (Data Analysis System)**

- **í¬íŠ¸**: 8002
- **ê¸°ëŠ¥**: ì£¼ì‹ ë°ì´í„° ë¶„ì„, RSI, ì´ë™í‰ê· , íŒ¨í„´ ì¸ì‹
- **ê¸°ìˆ **: ë°ì´í„° ê²€ì¦, í†µê³„ ê³„ì‚°, ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„

### **3. ì½˜í…ì¸  ìˆ˜ì§‘ ì‹œìŠ¤í…œ (Content Collection System)**

- **í¬íŠ¸**: 8003
- **ê¸°ëŠ¥**: RSS íŒŒì‹±, ì½˜í…ì¸  í•„í„°ë§, ì €ì¥ì†Œ ê´€ë¦¬
- **ê¸°ìˆ **: ë¹„ë™ê¸° ì²˜ë¦¬, ë°ì´í„° íŒŒì‹±, ë©”ëª¨ë¦¬ ê´€ë¦¬

### **4. ê²€ìƒ‰ ì‹œìŠ¤í…œ (Search System)**

- **í¬íŠ¸**: 8004
- **ê¸°ëŠ¥**: ì›¹ ê²€ìƒ‰, ê²°ê³¼ ì •ë ¬, ìºì‹±
- **ê¸°ìˆ **: ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜, ê²°ê³¼ ë­í‚¹, ì„±ëŠ¥ ìµœì í™”

### **5. ì¬ë¬´ ë¶„ì„ ì‹œìŠ¤í…œ (Financial Analysis System)**

- **í¬íŠ¸**: 8005
- **ê¸°ëŠ¥**: ì¬ë¬´ ë°ì´í„° ì²˜ë¦¬, ë¹„ìœ¨ ê³„ì‚°, DCF ë°¸ë¥˜ì—ì´ì…˜
- **ê¸°ìˆ **: ë°ì´í„° ë¶„ì„, í†µê³„ ê³„ì‚°, ë¬¸ì„œ ìƒì„±

### **6. í‚¤ì›€ API ì—°ë™ ì‹œìŠ¤í…œ (Kiwoom API Integration System)**

- **í¬íŠ¸**: 8006
- **ê¸°ëŠ¥**: ì£¼ì‹ ê°€ê²©, ê³„ì¢Œ ì •ë³´, ì‹œì¥ ìƒíƒœ ì¡°íšŒ
- **ê¸°ìˆ **: HTTP í´ë¼ì´ì–¸íŠ¸, ì¬ì‹œë„ ë¡œì§, ìºì‹± ì‹œìŠ¤í…œ

## ğŸš€ **í•µì‹¬ ê¸°ìˆ  êµ¬í˜„**

### **1. FastMCP ê¸°ë°˜ MCP ì„œë²„**

```python
from fastmcp import FastMCP

class DataProcessingServer:
    def __init__(self):
        self.fastmcp = FastMCP(
            name="data_processor",
            description="ë°ì´í„° ì²˜ë¦¬ ì‹œìŠ¤í…œ"
        )
        self._register_tools()

    def _register_tools(self):
        @self.fastmcp.tool()
        async def process_data(params: dict):
            # ì‹¤ì œ ë°ì´í„° ì²˜ë¦¬ ë¡œì§
            pass
```

### **2. ë¹„ë™ê¸° ë°ì´í„° ì²˜ë¦¬**

```python
async def get_data_with_retry(self, params: dict):
    """ì¬ì‹œë„ ë¡œì§ì´ í¬í•¨ëœ ë°ì´í„° ì¡°íšŒ"""
    for attempt in range(self.max_retries):
        try:
            return await self._fetch_data(params)
        except Exception as e:
            if attempt == self.max_retries - 1:
                raise DataProcessingError(f"ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ ì´ˆê³¼: {e}") from e
            delay = self.retry_delay * (2**attempt)
            await asyncio.sleep(delay)
```

### **3. ìºì‹± ì‹œìŠ¤í…œ**

```python
def _get_cache_key(self, operation: str, params: dict) -> str:
    """ìºì‹œ í‚¤ ìƒì„±"""
    key_data = f"{operation}:{str(sorted(params.items()))}"
    return hashlib.md5(key_data.encode()).hexdigest()

def _is_cache_valid(self, cache_key: str) -> bool:
    """TTL ê¸°ë°˜ ìºì‹œ ìœ íš¨ì„± ê²€ì‚¬"""
    if cache_key not in self._cache_timestamps:
        return False
    age = datetime.now() - self._cache_timestamps[cache_key]
    return age.total_seconds() < self.cache_ttl
```

### **4. ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹…**

```python
class DataProcessingError(Exception):
    """ë°ì´í„° ì²˜ë¦¬ ì „ìš© ì˜ˆì™¸"""
    def __init__(self, message: str, error_code: str = None):
        super().__init__(message)
        self.error_code = error_code

# ë¡œê¹… ì„¤ì •
logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s"
)
```

## ğŸ“ˆ **ì„±ëŠ¥ ìµœì í™”**

### **1. ë°°ì¹˜ ì²˜ë¦¬**

- ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ì²­í¬ ë‹¨ìœ„ë¡œ ì²˜ë¦¬
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”
- ì²˜ë¦¬ ì‹œê°„ ë‹¨ì¶•

### **2. ë¹„ë™ê¸° ì²˜ë¦¬**

- I/O ì‘ì—…ì˜ ë¹„ë™ê¸° ì²˜ë¦¬
- ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ ëŠ¥ë ¥ í–¥ìƒ
- ì‘ë‹µ ì‹œê°„ ê°œì„ 

### **3. ìºì‹± ì „ëµ**

- ë©”ëª¨ë¦¬ ê¸°ë°˜ ìºì‹±
- TTL ê¸°ë°˜ ìë™ ë§Œë£Œ
- ì¤‘ë³µ ìš”ì²­ ìµœì†Œí™”

## ğŸ§ª **í…ŒìŠ¤íŠ¸ ë° í’ˆì§ˆ**

### **1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**

- ê° MCP ì„œë²„ë³„ ì „ìš© í…ŒìŠ¤íŠ¸ íŒŒì¼
- pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì‘ì„±
- ëª¨í‚¹ì„ í†µí•œ ê²©ë¦¬ëœ í…ŒìŠ¤íŠ¸

### **2. í†µí•© í…ŒìŠ¤íŠ¸**

- ëª¨ë“  MCP ì„œë²„ ë™ì‹œ í…ŒìŠ¤íŠ¸
- ì‹¤ì œ API ì—°ë™ í…ŒìŠ¤íŠ¸
- ì„±ëŠ¥ ë° ì•ˆì •ì„± ê²€ì¦

### **3. ì½”ë“œ í’ˆì§ˆ**

- ruffë¥¼ í†µí•œ ìë™ í¬ë§·íŒ…
- íƒ€ì… íŒíŠ¸ í™œìš©
- ë¬¸ì„œí™” ë° ì£¼ì„

## ğŸ”® **í–¥í›„ í™•ì¥ ê³„íš**

### **Phase 2: LangGraph ì—ì´ì „íŠ¸**

- ë³µì¡í•œ ì›Œí¬í”Œë¡œìš° ê´€ë¦¬
- ìƒíƒœ ê¸°ë°˜ ì—ì´ì „íŠ¸ ì„¤ê³„
- ì—ëŸ¬ ì²˜ë¦¬ ë° ë³µêµ¬ ì‹œìŠ¤í…œ

### **Phase 3: A2A í†µì‹ **

- ì—ì´ì „íŠ¸ ê°„ ë©”ì‹œì§€ êµí™˜
- ê°ë…ì íŒ¨í„´ êµ¬í˜„
- ë¶„ì‚° ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### **Phase 4: Docker ë°°í¬**

- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆí™”
- ìë™í™”ëœ ë°°í¬ íŒŒì´í”„ë¼ì¸
- í™•ì¥ì„± ë° ê°€ìš©ì„± í–¥ìƒ

## ğŸ’¡ **ë©´ì ‘ ì‹œ ê°•ì¡° í¬ì¸íŠ¸**

### **1. ê¸°ìˆ ì  ì—­ëŸ‰**

- **FastMCP**: ìµœì‹  MCP í”„ë ˆì„ì›Œí¬ í™œìš© ëŠ¥ë ¥
- **ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°**: asyncio ê¸°ë°˜ ê³ ì„±ëŠ¥ ì‹œìŠ¤í…œ
- **API ì—°ë™**: ì‹¤ì œ ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ì˜ í†µí•© ê²½í—˜

### **2. ì•„í‚¤í…ì²˜ ì„¤ê³„**

- **ëª¨ë“ˆí™”**: ê° ì„œë²„ì˜ ë…ë¦½ì  ì„¤ê³„
- **í™•ì¥ì„±**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ì˜ ìš©ì´ì„±
- **ìœ ì§€ë³´ìˆ˜ì„±**: ëª…í™•í•œ ì½”ë“œ êµ¬ì¡°ì™€ ë¬¸ì„œí™”

### **3. ì‹¤ë¬´ ì ìš© ëŠ¥ë ¥**

- **ì‹¤ì œ ë°ì´í„°**: Mockì´ ì•„ë‹Œ ì‹¤ì œ API í™œìš©
- **ì—ëŸ¬ ì²˜ë¦¬**: ê²¬ê³ í•œ ì˜ˆì™¸ ì²˜ë¦¬ ì‹œìŠ¤í…œ
- **ì„±ëŠ¥ ìµœì í™”**: ìºì‹±, ì¬ì‹œë„, ë°°ì¹˜ ì²˜ë¦¬

## ğŸ“š **í•™ìŠµ ìë£Œ**

ê° MCP ì„œë²„ë³„ë¡œ `LEARNING_GUIDE.md` íŒŒì¼ì„ ì œê³µí•˜ì—¬:

- ì½”ë“œ êµ¬ì¡° ì´í•´
- í•µì‹¬ ê¸°ìˆ  í•™ìŠµ
- í™•ì¥ ë°©ë²• ì•ˆë‚´
- ì‹¤ë¬´ ì ìš© ì˜ˆì‹œ

---

**ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¨ìˆœí•œ ì½”ë“œ êµ¬í˜„ì„ ë„˜ì–´, í˜„ëŒ€ì ì¸ AI ì‹œìŠ¤í…œ ê°œë°œì— í•„ìš”í•œ í•µì‹¬ ê¸°ìˆ ë“¤ì„ ì²´ê³„ì ìœ¼ë¡œ êµ¬í˜„í•œ í¬íŠ¸í´ë¦¬ì˜¤ì…ë‹ˆë‹¤.** ğŸš€
